<html ng-app="app">
	<head>
		<title>DHFI - Home</title>

		<!-- BOOTSTRAP 4 CSS -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">

		<!-- FONT AWESOME ICONS -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
	</head>
	<base href="/">
	<body ng-controller="controller as vm">
		<div class="container mt-5">
			<div class="input-group mx-auto col-8">
				<input type="text" class="form-control" placeholder="Search Developer" aria-describedby="btnGroupAddon" ng-model="vm.searchText">
				<button class="input-group-addon" ng-click="vm.searchDev(vm.searchText)">
					<i class="fa fa-search" aria-hidden="true"></i>
				</button>
			</div>
		</div>

		<div class="container" ng-show="devResults.length > 0">            
            <table class="table table-striped" border="0" width="80%" cellpadding="1" cellspacing="1" >
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Developer Name</th>
						<th>Project Name</th>
						<th>Developer Project Email</th>                     
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="res in devResults track by $index">
                        <td>{{ res._id }}</td>
						<td>{{ res.developer_name }}</td>
						<td>{{ res.developer_project_project_name }}</td>
						<td>{{ res.developer_project_email }}</td>
						<td><button class="input-group-addon" ng-click="vm.updateSearch(res._id)"> View</button></td>
                    </tr>                   
				</tbody>  				
            </table>        
        </div>

        <div class="container mt-5 col-8" ng-show="vm.infoResults.length > 0">
			<div class="form-group row">
				<label class="col-2 col-form-label">Developer Name</label>
				<div class="col-10">
					<input class="form-control" type="text" ng-model="vm.developer_name" value="{{vm.developer_name}}">
				</div>
			</div>

			<div class="form-group row">
				<label class="col-2 col-form-label">Developer Address</label>
				<div class="col-10">
					<input class="form-control" type="text" ng-model="vm.developer_address" value="{{vm.developer_address}}">
				</div>
			</div>

			<div class="form-group row">
				<label class="col-2 col-form-label">Contact Person</label>
				<div class="col-10">
					<input class="form-control" type="text" ng-model="vm.project_contact_person" value="{{vm.project_contact_person}}">
				</div>
			</div>

			<div class="form-group row">
				<label class="col-2 col-form-label">Project Name</label>
				<div class="col-10">
					<input class="form-control" type="text" ng-model="vm.project_name" value="{{vm.project_name}}">
				</div>
			</div>

			<div class="form-group row">
				<label class="col-2 col-form-label">Project Address</label>
				<div class="col-10">
					<input class="form-control" type="text" ng-model="vm.project_address" value="{{vm.project_address}}">
				</div>
			</div>

			<div class="form-group row">
				<label class="col-2 col-form-label">Project Contact Person</label>
				<div class="col-10">
					<input class="form-control" type="text" ng-model="vm.project_contact_person" value="{{vm.project_contact_person}}">
				</div>
			</div>

				<div class="form-group row">
				<label class="col-2 col-form-label">Project Contact Email</label>
				<div class="col-10">
					<input class="form-control" type="email" ng-model="vm.project_contact_email" value="{{vm.project_contact_email}}">
				</div>
			</div>

			<div class="form-group row">
				<label class="col-2 col-form-label">Project Contact Phone</label>
				<div class="col-10">
					<input class="form-control" type="tel" ng-model="vm.project_contact_phone" value="{{vm.project_contact_phone}}">
				</div>
			</div>

			<div class="form-group row">
				<label class="col-2 col-form-label">Project Commission Rate</label>
				<div class="col-10">
					<input class="form-control" type="number" min="1" max="10" value="1"  ng-init ="vm.project_commission_rate = 1" ng-model="vm.project_commission_rate" value="{{vm.project_commission_rate}}">
				</div>
			</div>

			<div class="form-group row">
				<label class="col-2 col-form-label">Sales Cluster</label>
				<div class="col-10">
					<select class="form-control" ng-options="cluster for cluster in sales_clusters" ng-model="vm.project_sales_cluster" value="{{vm.project_sales_cluster}}">
						
					</select>
				</div>	
            </div>

            <div class="form-group row" ng-hide="true">
                <input class="form-control" type="text" ng-model="vm._id" value="{{vm._id}}">
                <input class="form-control" type="text" ng-model="vm._rev" value="{{vm._rev}}">
            </div>
            
            

			<div class="form-group row">
				<div class="col-8 mx-auto">
					<button class="btn btn-primary col-3" ng-click="vm.updateDev(vm, vm._id, vm._rev)">Update & Close</button>
					<button class="btn btn-danger col-3" ng-click="vm.cancel()">Cancel</button>
				</div>
			</div>        
        </div>   

		<div>{{vm.role}}</div>

		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.1/angular.js"></script>

		<script src="../controller/controller.js"></script>

		<!-- BOOTSRAP 4 REQUIRED FILES -->
		<script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
	</body>
</html>